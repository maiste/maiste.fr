<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Maiste.fr</title>

    <!-- Main CSS -->
    <link href="/static/css/main.css" rel="stylesheet" />

    <!-- Fonts -->
    <link href="/static/fonts/import.css" rel="stylesheet" />
    <link rel="me" href="https://fosstodon.org/@maiste" />

    <!-- Code Highlighting -->
    <link href="/static/css/code.css" rel="stylesheet" type="text/css" />
    <script src="/static/script/highlight.min.js"></script>
</head>

<body>
    <!-- Umami -->
    <script defer src="https://analytics.maiste.fr/script.js"
        data-website-id="b1e6219d-8044-47d9-9e91-44db862e2732"></script>
    <!-- End Umami Code -->

    <header class="container">
        <nav>
        <h2><a href="/">Maiste ü¶â</a></h2>
            <ul>
                <li><a href="/blog">Blog</a></li>
                <li><a href="/wiki">Wiki</a></li>
                <li><a href="/about">About</a></li>
            </ul>
        </nav>
        <hr />
    </header>
    <main class="container"><h1>WebDev - Front</h1>
<div class="metadata"><p>description: Javascript, Typescript and Co. Messy notes to be split</p><p>lang: FR
    </p>
</div>
<div class="content"><h3 id="terminologie"><a class="anchor" aria-hidden="true" href="#terminologie"></a>Terminologie</h3>
<ul>
<li><em>DOM</em>: Document Object Model. Repr√©sentation du Document.</li>
<li><em>Bundler</em>: create a unique file with all the code needed. Avoid dealing with <code>import</code>.</li>
<li><em>SPA</em>: Single Page Application: the application lives in a single html page.</li>
<li><em>IIFE</em>:  Immediately Invoked Function Expression i.e anc√™tre de <em>ESModule</em></li>
</ul>
<h3 id="npm"><a class="anchor" aria-hidden="true" href="#npm"></a>NPM</h3>
<ul>
<li><code>npm install</code> or <code>: installe le packages sp√©cifi√© dans le </code>package.json``</li>
<li><code>npm install -D</code>: installe le package sp√©cifi√© dans le <code>package.json</code> comme une d√©pendances dev</li>
<li><code>npm &lt;script&gt;</code>: run the script specified in the <code>package.json</code></li>
</ul>
<h2 id="javascript"><a class="anchor" aria-hidden="true" href="#javascript"></a>Javascript</h2>
<h3 id="pi√®ges"><a class="anchor" aria-hidden="true" href="#pi√®ges"></a>Pi√®ges</h3>
<ul>
<li>Attention au scope de <code>this</code> qui est dans une <code>function() {}</code> car il prend le scope de l'appelant:</li>
</ul>
<pre><code class="language-js">class Truc {
    constructor(this) {
        this.msg;
    }
    print() {
        setTimeout(function(){
            console.log(msg);
        }.bind(thi))
    }
 

    /* Sont √©quivalents */
    print() {
        setTimeout(() =&gt; ){
            console.log(msg);
        })
    }
}
</code></pre>
<h3 id="import--export"><a class="anchor" aria-hidden="true" href="#import--export"></a>Import / export</h3>
<ul>
<li><code>export</code> ne peut √™tre utiliser qu'√† la racine du fichier.</li>
<li>On a le <code>default</code> import mais pour permettre le <em>Tree Shaking</em>, on doit utiliser <code>import { X, Y } from &quot;./path&quot;;</code></li>
</ul>
<h3 id="typescript"><a class="anchor" aria-hidden="true" href="#typescript"></a>Typescript</h3>
<h4 id="infos"><a class="anchor" aria-hidden="true" href="#infos"></a>Infos</h4>
<ul>
<li>Activer les <code>compilerOptions</code> √† <code>&quot;strict&quot; : true</code> pour s'assurer qu'il fasse le
maximum.</li>
</ul>
<h4 id="types"><a class="anchor" aria-hidden="true" href="#types"></a>Types</h4>
<p>On peut avoir une √©num√©ration de string √† partir des clefs d'un objet:</p>
<pre><code class="language-typescript">type Point = {
    x: number,
    y: number
}

// &quot;x&quot; | &quot;y&quot;
type KeyPoint = keyof Point

// z = &quot;x&quot; ou z = &quot;y&quot;
function call(z : KeyPoint) {
    return z;
}
</code></pre>
<h3 id="webrowser"><a class="anchor" aria-hidden="true" href="#webrowser"></a>Webrowser</h3>
<ul>
<li>Utiliser la console pour d√©bugguer, c'est fait pour.</li>
</ul>
<h3 id="storage"><a class="anchor" aria-hidden="true" href="#storage"></a>Storage</h3>
<h4 id="localstorage"><a class="anchor" aria-hidden="true" href="#localstorage"></a>LocalStorage</h4>
<p>Stockage natif des browser mais n'utilise pas <code>indexedDB</code> donc moins de fonctionnalit√©s.</p>
<h4 id="localforage"><a class="anchor" aria-hidden="true" href="#localforage"></a>LocalForage</h4>
<p>Stockage qui repose sur localStorage mais support l'asynchrone.</p>
<h2 id="bundler"><a class="anchor" aria-hidden="true" href="#bundler"></a>Bundler</h2>
<ul>
<li>Il r√©sout les imports en faisant un fichier avec tout !</li>
<li>Il fonctionne avec <code>require/module.exports</code> et les <code>export/import</code>.</li>
</ul>
<h3 id="webpack"><a class="anchor" aria-hidden="true" href="#webpack"></a>Webpack</h3>
<ul>
<li>La configuration se fait dans un <code>webpack.config.js</code>. Le fichier produit est dans <code>dist/main.js</code></li>
<li>Il prend un unique point d'entr√©e.</li>
<li>En cas de changement dans le <code>webpack.config.js</code>, il faut restart le serveur.</li>
</ul>
<h3 id="transpiler"><a class="anchor" aria-hidden="true" href="#transpiler"></a>Transpiler</h3>
<ul>
<li><code>Babel</code> transpile vers du &quot;vieux&quot; (ES5) Js pour assurer la compatibilit√© des fonctions JS. <em>Polyfills</em> √©tends les capacit√©s de &quot;transpilage&quot; de Babel.</li>
<li><code>Core-js</code> est un <em>Polyfills</em>.</li>
<li><code>Babel</code> a besoin d'avoir <code>babel-loader</code> pour fonctionner avec <code>webpack</code>.</li>
</ul>
<h2 id="sass"><a class="anchor" aria-hidden="true" href="#sass"></a>SASS</h2>
<ul>
<li>Un <code>css</code> est un <code>sass</code> valide.</li>
<li>On d√©finit les donn√©es partielles dans les fichiers commen√ßant par <code>_name.scss</code>. Il peut ensuite √™tre charg√© √† un autre endroit via <code>@use &quot;./name&quot;;</code>.</li>
<li><code>min-heigth: 100vh</code> signifie que le composant prend au moins la taille de la vue. En utilisant un container  <code>flex, column</code> et en assignant &quot;`margin-top: auto&quot;, le composant
se place en bas.</li>
</ul>
<h2 id="css"><a class="anchor" aria-hidden="true" href="#css"></a>CSS</h2>
<ul>
<li>Pour merger facilement les propri√©t√©s de tailwind :
<pre><code class="language-js">import { type ClassValue, clsx } from &quot;clsx&quot;;
export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}
```

</code></pre>
</li>
</ul>
<h2 id="tools"><a class="anchor" aria-hidden="true" href="#tools"></a>Tools</h2>
<h3 id="eslint"><a class="anchor" aria-hidden="true" href="#eslint"></a>ESLint</h3>
<ul>
<li>Avec <code>create-react-app</code>, tout est d√©j√† installer. Il faut juste lancer <code>npm init @eslint/config</code> et ne pas installer les d√©pendances.</li>
<li>Il faut ajouter <code>plugin:react/jsx-runtime</code> dans la list <code>extends</code> du <em>.eslintrc.json</em>.</li>
</ul>
<h3 id="prettier"><a class="anchor" aria-hidden="true" href="#prettier"></a>Prettier</h3>
<ul>
<li>
<p>On peut l'installer avec: <code>npm install prettier@^version -D --save-exact</code></p>
</li>
<li>
<p><code>npx prettier --check .</code>: permet de v√©rifier les r√®gles dans le code.</p>
</li>
<li>
<p><code>npx prettier --write .</code>: modifier les fichiers avec le bon formatage.</p>
</li>
<li>
<p><code>npm install --save-dev eslint-config-prettier@^8.5.0</code> permet de partager la config du linter et du formateur</p>
</li>
<li>
<p><code>npm install --save-dev eslint-plugin-prettier@^4.2.1</code> permet d'avoir un plugin de linter pour eslint qui regarde le formatage.</p>
</li>
<li>
<p>Dans ce cas, il faut penser √† √©tendre la configuration <em>.eslintrc.json</em> avec:</p>
</li>
</ul>
<pre><code class="language-json">{
  &quot;extends&quot;: [
    &quot;some-other-config-you-use&quot;,
    &quot;plugin:prettier/recommended&quot;
  ]
  ...
  &quot;plugins&quot;: [..., &quot;prettier&quot;]
}
</code></pre>
<h3 id="mrm"><a class="anchor" aria-hidden="true" href="#mrm"></a>Mrm</h3>
<ul>
<li>Permet d'automatiser la configuration des fichiers en se basant sur la configuration pr√©sente.</li>
</ul>
<h3 id="husky"><a class="anchor" aria-hidden="true" href="#husky"></a>Husky</h3>
<ul>
<li>Git hooks pour en JS.</li>
</ul>
<h2 id="cjs-vs-esm"><a class="anchor" aria-hidden="true" href="#cjs-vs-esm"></a>CJS vs ESM</h2>
<ul>
<li>Lire la doc de https://antfu.me/posts/publish-esm-and-cjs</li>
</ul>
<h2 id="module-bundlers-webpack"><a class="anchor" aria-hidden="true" href="#module-bundlers-webpack"></a>Module Bundlers: Webpack</h2>
<p>Webpack is a module bundler that allows to resolve dependencies to make file exportable via the web.</p>
<h2 id="optimise-the-code"><a class="anchor" aria-hidden="true" href="#optimise-the-code"></a>Optimise the code</h2>
<ul>
<li><a href="https://www.joshwcomeau.com/performance/embracing-modern-image-formats/">You might not need jQuery</a>: when you can do it in CSS and vanilla JavaScript</li>
<li><a href="https://www.joshwcomeau.com/performance/embracing-modern-image-formats/">Embracing modern image format</a>: use webP if you can</li>
</ul>
</div>
</main>

    <footer class="container">
        <hr />
        <p> Website written proudly with <a href="https://gitlab.com/funkywork/yocaml">Yocaml</a> ‚ô° This site is part of
            the
            <a href="https://ring.muhokama.fun">Muhokama ring</a>
            (<a href="https://ring.muhokama.fun/u/maiste/pred">Previous</a> - <a
                href="https://ring.muhokama.fun/u/maiste/succ">Next</a>)
        </p>
        <p><a href="https://maiste.fr">Content under this website</a> is written by Etienne "Maiste" Marais and is
            licensed
            under <a href="https://creativecommons.org/licenses/by-nc/4.0/?ref=chooser-v1">CC BY-NC 4.0</a></p>
    </footer>

    <script>hljs.highlightAll();</script>
</body>

</html>
